<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive: Merchandising Simulation | ACCOUNTING ESSENTIALS</title>
    <link rel="stylesheet" href="../../styles.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-50MTQPVR7D"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-50MTQPVR7D');
    </script>
    <style>
        /* Interactive Page Specific Styles */
        .scenario-box {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            color: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            margin: 1.5rem 0;
        }

        .scenario-box h3 {
            color: white;
            margin-bottom: 1rem;
        }

        .transaction-row {
            display: grid;
            grid-template-columns: 80px 1fr 100px 100px 100px;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-light);
            border-radius: var(--radius-md);
            margin: 0.5rem 0;
            align-items: center;
        }

        .transaction-row .date {
            font-weight: 600;
            color: var(--text-muted);
        }

        .transaction-row input {
            padding: 0.5rem;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-sm);
            text-align: center;
        }

        .transaction-row input.correct {
            border-color: var(--success);
            background: var(--success-light);
        }

        .transaction-row input.incorrect {
            border-color: var(--error);
            background: var(--error-light);
        }

        .calc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .calc-card {
            background: var(--bg-light);
            padding: 1.5rem;
            border-radius: var(--radius-md);
            text-align: center;
        }

        .calc-card label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .calc-card input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-sm);
            text-align: center;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .calc-card .result {
            margin-top: 1rem;
            padding: 0.75rem;
            background: var(--primary);
            color: white;
            border-radius: var(--radius-sm);
            font-weight: 700;
        }

        .statement-preview {
            background: white;
            border: 2px solid var(--border-light);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .statement-preview table {
            width: 100%;
            border-collapse: collapse;
        }

        .statement-preview th,
        .statement-preview td {
            padding: 0.5rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-light);
        }

        .statement-preview .total-row {
            font-weight: 700;
            border-top: 2px solid var(--primary);
        }

        .comparison-side {
            flex: 1;
            padding: 1.5rem;
            border-radius: var(--radius-md);
        }

        .comparison-side.perpetual {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 2px solid var(--info);
        }

        .comparison-side.periodic {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border: 2px solid var(--warning);
        }

        .mini-t-account {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            border: 2px solid var(--primary);
            border-radius: var(--radius-sm);
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .mini-t-side {
            padding: 0.5rem;
            text-align: center;
            font-size: 0.85rem;
        }

        .mini-t-side.left {
            border-right: 2px solid var(--primary);
            background: rgba(30, 58, 95, 0.1);
        }

        .mini-t-side input {
            width: 100%;
            padding: 0.25rem;
            border: 1px solid var(--border-light);
            border-radius: 4px;
            text-align: center;
            font-size: 0.8rem;
        }

        .inventory-tracker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .inventory-item {
            background: var(--bg-light);
            padding: 1rem;
            border-radius: var(--radius-md);
            text-align: center;
        }

        .inventory-item h4 {
            font-size: 1rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .inventory-item .qty {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
        }

        .inventory-item .label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .tab-buttons {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 0.75rem 1.5rem;
            background: var(--bg-light);
            border: 2px solid var(--border-light);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            transition: all var(--transition-base);
        }

        .tab-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        .check-btn {
            padding: 0.75rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
        }

        .check-btn:hover {
            background: var(--primary-light);
        }

        .feedback-box {
            display: none;
            padding: 1rem;
            border-radius: var(--radius-md);
            margin: 1rem 0;
        }

        .feedback-box.correct {
            display: block;
            background: var(--success-light);
            border: 2px solid var(--success);
            color: var(--success);
        }

        .feedback-box.incorrect {
            display: block;
            background: var(--error-light);
            border: 2px solid var(--error);
            color: var(--error);
        }

        .progress-bar {
            height: 8px;
            background: var(--border-light);
            border-radius: var(--radius-full);
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-bar .fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: var(--radius-full);
            transition: width 0.5s ease;
        }

        .score-display {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border-radius: var(--radius-lg);
            margin: 1rem 0;
        }

        .score-display .score {
            font-size: 3rem;
            font-weight: 800;
        }

        .score-display .total {
            font-size: 1.2rem;
            opacity: 0.9;
        }
    </style>
</head>

<body>
    <canvas id="global-bg-canvas"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: var(--bg-light); pointer-events: none;"></canvas>

    <header>
        <div class="container nav-container">
            <a href="../../index.html" class="logo">ACCOUNTING<span>ESSENTIALS</span></a>
            <button id="menu-toggle" class="menu-toggle" aria-label="Toggle Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="nav-links">
                <a href="../../index.html">Home</a>
                <a href="../../Part1/part1.html">Part 1</a>
                <a href="../../part2/part2.html">Part 2</a>
                <a href="../../part3/part3.html">Part 3</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <div class="breadcrumbs">
            <a href="../../index.html">Home</a> <span>/</span> <a href="../../part2/part2.html">Part 2</a>
            <span>/</span> <a href="ch05.html">Chapter 5</a> <span>/</span> Interactive
        </div>

        <article class="animate-fade-in">
            <div class="kp-header">
                <h1 style="border-left: 8px solid var(--secondary); padding-left: 1rem; margin: 2rem 0;">
                    üéØ Merchandising Operations Simulation
                </h1>
            </div>

            <!-- Introduction -->
            <section class="kp-section">
                <h2>üìã Welcome to the Merchandising Simulation</h2>
                <p>In this interactive simulation, you'll manage "TechMart," a computer equipment retail store. 
                   Apply everything you've learned about perpetual and periodic inventory systems, journal entries, 
                   and financial statement preparation.</p>
                
                <div class="progress-bar">
                    <div class="fill" id="progress-fill" style="width: 0%;"></div>
                </div>
                <p style="text-align: center; font-size: 0.9rem; color: var(--text-muted);">
                    Progress: <span id="progress-text">0%</span> Complete
                </p>
            </section>

            <!-- Section 1: Transaction Recording -->
            <section class="kp-section">
                <h2>üìù Section 1: Record Merchandising Transactions</h2>
                <p>TechMart completed the following transactions in January. Record the amounts for each transaction.</p>

                <div class="scenario-box">
                    <h3>üì¶ TechMart - Transaction Log</h3>
                    <p><strong>Business:</strong> Computer Equipment Retailer | <strong>Inventory System:</strong> Perpetual</p>
                </div>

                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showTab('tab-purchases')">Purchases</button>
                    <button class="tab-btn" onclick="showTab('tab-sales')">Sales</button>
                    <button class="tab-btn" onclick="showTab('tab-mixed')">Mixed Transactions</button>
                </div>

                <!-- Purchases Tab -->
                <div id="tab-purchases" class="tab-content active">
                    <p>Record the <strong>Purchases</strong> and <strong>Cash Payments</strong> for each transaction:</p>
                    
                    <div class="transaction-row" id="tx1">
                        <span class="date">Jan 3</span>
                        <span>Purchased 100 laptops @ $500 each from Dell Corp, on account (2/10, n/30)</span>
                        <input type="number" id="pur1-amt" placeholder="Purchase $" oninput="checkAnswer('pur1', 50000)">
                        <input type="text" id="pur1-acct" placeholder="Account" oninput="checkAnswer('pur1-acct', 'Inventory')">
                    </div>
                    <div class="feedback-box" id="pur1-feedback"></div>

                    <div class="transaction-row" id="tx2">
                        <span class="date">Jan 5</span>
                        <span>Paid freight for laptop delivery (FOB Destination)</span>
                        <input type="number" id="pur2-amt" placeholder="Freight $" oninput="checkAnswer('pur2', 500)">
                        <input type="text" id="pur2-acct" placeholder="Account" oninput="checkAnswer('pur2-acct', 'Freight-In')">
                    </div>
                    <div class="feedback-box" id="pur2-feedback"></div>

                    <div class="transaction-row" id="tx3">
                        <span class="date">Jan 12</span>
                        <span>Paid for Jan 3 purchase within discount period</span>
                        <input type="number" id="pur3-amt" placeholder="Payment $" oninput="checkAnswer('pur3', 49000)">
                        <input type="text" id="pur3-acct" placeholder="Cash Credit" oninput="checkAnswer('pur3-acct', 'Cash')">
                    </div>
                    <div class="feedback-box" id="pur3-feedback"></div>
                </div>

                <!-- Sales Tab -->
                <div id="tab-sales" class="tab-content">
                    <p>Record the <strong>Sales</strong> and <strong>Cash Receipts</strong> for each transaction:</p>
                    
                    <div class="transaction-row" id="tx4">
                        <span class="date">Jan 15</span>
                        <span>Sold 50 laptops @ $800 each to University, on account (1/10, n/30)</span>
                        <input type="number" id="sal1-amt" placeholder="Sales $" oninput="checkAnswer('sal1', 40000)">
                        <input type="text" id="sal1-acct" placeholder="Account" oninput="checkAnswer('sal1-acct', 'Sales')">
                    </div>
                    <div class="feedback-box" id="sal1-feedback"></div>

                    <div class="transaction-row" id="tx5">
                        <span class="date">Jan 15</span>
                        <span>Cost of goods sold for above sale (50 √ó $500)</span>
                        <input type="number" id="sal2-amt" placeholder="COGS $" oninput="checkAnswer('sal2', 25000)">
                        <input type="text" id="sal2-acct" placeholder="Account" oninput="checkAnswer('sal2-acct', 'COGS')">
                    </div>
                    <div class="feedback-box" id="sal2-feedback"></div>

                    <div class="transaction-row" id="tx6">
                        <span class="date">Jan 24</span>
                        <span>Received payment from University within discount period</span>
                        <input type="number" id="sal3-amt" placeholder="Receipt $" oninput="checkAnswer('sal3', 39600)">
                        <input type="text" id="sal3-acct" placeholder="Account" oninput="checkAnswer('sal3-acct', 'Cash')">
                    </div>
                    <div class="feedback-box" id="sal3-feedback"></div>
                </div>

                <!-- Mixed Transactions Tab -->
                <div id="tab-mixed" class="tab-content">
                    <p>Record various <strong>adjustments and returns</strong>:</p>
                    
                    <div class="transaction-row" id="tx7">
                        <span class="date">Jan 18</span>
                        <span>Returned 10 defective laptops from Jan 3 purchase (credit granted)</span>
                        <input type="number" id="mix1-amt" placeholder="Return $" oninput="checkAnswer('mix1', 5000)">
                        <input type="text" id="mix1-acct" placeholder="Account" oninput="checkAnswer('mix1-acct', 'Accounts Payable')">
                    </div>
                    <div class="feedback-box" id="mix1-feedback"></div>

                    <div class="transaction-row" id="tx8">
                        <span class="date">Jan 20</span>
                        <span>Customer returned 5 laptops from Jan 15 sale (defective)</span>
                        <input type="number" id="mix2-amt" placeholder="Sales Return $" oninput="checkAnswer('mix2', 4000)">
                        <input type="text" id="mix2-acct" placeholder="Account" oninput="checkAnswer('mix2-acct', 'Sales Returns')">
                    </div>
                    <div class="feedback-box" id="mix2-feedback"></div>

                    <button class="btn btn-primary" onclick="checkSection1()">Check All Answers</button>
                    <div class="feedback-box" id="section1-feedback"></div>
                </div>
            </section>

            <!-- Section 2: Inventory Calculations -->
            <section class="kp-section">
                <h2>üìä Section 2: Inventory Cost Flow Calculations</h2>
                <p>Calculate ending inventory and COGS using different cost flow assumptions.</p>

                <div class="scenario-box">
                    <h3>üè∑Ô∏è TechMart Inventory Data</h3>
                    <p><strong>Product:</strong> Gaming Laptops | <strong>Units:</strong> 50 per month</p>
                    <table style="width: 100%; margin-top: 1rem; color: white;">
                        <tr><td style="padding: 0.5rem;">Jan 1 Beginning Inventory</td><td style="text-align: right;">10 units @ $450 = $4,500</td></tr>
                        <tr><td style="padding: 0.5rem;">Jan 5 Purchase</td><td style="text-align: right;">20 units @ $480 = $9,600</td></tr>
                        <tr><td style="padding: 0.5rem;">Jan 15 Purchase</td><td style="text-align: right;">30 units @ $500 = $15,000</td></tr>
                        <tr><td style="padding: 0.5rem;">Jan 25 Purchase</td><td style="text-align: right;">25 units @ $520 = $13,000</td></tr>
                        <tr><td style="padding: 0.5rem; border-top: 1px solid rgba(255,255,255,0.3);">Total Available</td><td style="text-align: right; border-top: 1px solid rgba(255,255,255,0.3);">85 units @ $42,100</td></tr>
                    </table>
                    <p style="margin-top: 1rem; color: white;">Goods Available for Sale: 85 units | <strong>Ending Inventory Count:</strong> 35 units</p>
                </div>

                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="showTab('tab-fifo')">FIFO</button>
                    <button class="tab-btn" onclick="showTab('tab-lifo')">LIFO</button>
                    <button class="tab-btn" onclick="showTab('tab-weighted')">Weighted Average</button>
                </div>

                <!-- FIFO Tab -->
                <div id="tab-fifo" class="tab-content active">
                    <div class="calc-grid">
                        <div class="calc-card">
                            <label>Ending Inventory (FIFO)</label>
                            <input type="number" id="fifo-ei" placeholder="$" oninput="checkFIFO('ei')">
                            <div class="result" id="fifo-ei-result">Result</div>
                        </div>
                        <div class="calc-card">
                            <label>COGS (FIFO)</label>
                            <input type="number" id="fifo-cogs" placeholder="$" oninput="checkFIFO('cogs')">
                            <div class="result" id="fifo-cogs-result">Result</div>
                        </div>
                    </div>
                    <p style="background: var(--bg-light); padding: 1rem; border-radius: var(--radius-sm);">
                        <strong>Hint:</strong> FIFO = First-In, First-Out. The LAST units purchased are in Ending Inventory.
                    </p>
                </div>

                <!-- LIFO Tab -->
                <div id="tab-lifo" class="tab-content">
                    <div class="calc-grid">
                        <div class="calc-card">
                            <label>Ending Inventory (LIFO)</label>
                            <input type="number" id="lifo-ei" placeholder="$" oninput="checkLIFO('ei')">
                            <div class="result" id="lifo-ei-result">Result</div>
                        </div>
                        <div class="calc-card">
                            <label>COGS (LIFO)</label>
                            <input type="number" id="lifo-cogs" placeholder="$" oninput="checkLIFO('cogs')">
                            <div class="result" id="lifo-cogs-result">Result</div>
                        </div>
                    </div>
                    <p style="background: var(--bg-light); padding: 1rem; border-radius: var(--radius-sm);">
                        <strong>Hint:</strong> LIFO = Last-In, First-Out. The FIRST units purchased are in Ending Inventory.
                    </p>
                </div>

                <!-- Weighted Average Tab -->
                <div id="tab-weighted" class="tab-content">
                    <div class="calc-grid">
                        <div class="calc-card">
                            <label>Weighted Average Cost per Unit</label>
                            <input type="number" id="wa-unit" placeholder="$" step="0.01" oninput="checkWA('unit')">
                            <div class="result" id="wa-unit-result">Result</div>
                        </div>
                        <div class="calc-card">
                            <label>Ending Inventory (WA)</label>
                            <input type="number" id="wa-ei" placeholder="$" oninput="checkWA('ei')">
                            <div class="result" id="wa-ei-result">Result</div>
                        </div>
                        <div class="calc-card">
                            <label>COGS (WA)</label>
                            <input type="number" id="wa-cogs" placeholder="$" oninput="checkWA('cogs')">
                            <div class="result" id="wa-cogs-result">Result</div>
                        </div>
                    </div>
                    <p style="background: var(--bg-light); padding: 1rem; border-radius: var(--radius-sm);">
                        <strong>Hint:</strong> Calculate: Total Cost √∑ Total Units = Weighted Average Cost
                    </p>
                </div>
            </section>

            <!-- Section 3: Ratio Analysis -->
            <section class="kp-section">
                <h2>üìà Section 3: Merchandising Ratio Analysis</h2>
                <p>Calculate the key ratios for TechMart based on the adjusted trial balance.</p>

                <div class="scenario-box">
                    <h3>üìã TechMart Adjusted Trial Balance (Partial)</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1rem;">
                        <div>
                            <p style="color: white; margin: 0.25rem 0;">Cash $25,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Accounts Receivable $35,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Inventory (Dec 31) $18,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Prepaid Expenses $4,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Property, Plant & Equipment $120,000</p>
                        </div>
                        <div>
                            <p style="color: white; margin: 0.25rem 0;">Accounts Payable $22,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Notes Payable $30,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Sales Revenue $280,000</p>
                            <p style="color: white; margin: 0.25rem 0;">COGS $168,000</p>
                            <p style="color: white; margin: 0.25rem 0;">Operating Expenses $45,000</p>
                        </div>
                    </div>
                </div>

                <div class="calc-grid">
                    <div class="calc-card">
                        <label>Gross Margin %</label>
                        <input type="number" id="ratio-gm" placeholder="%" step="0.1" oninput="checkRatio('gm')">
                        <div class="result" id="ratio-gm-result">Result</div>
                    </div>
                    <div class="calc-card">
                        <label>Gross Margin ($)</label>
                        <input type="number" id="ratio-gm-amt" placeholder="$" oninput="checkRatio('gm_amt')">
                        <div class="result" id="ratio-gm-amt-result">Result</div>
                    </div>
                    <div class="calc-card">
                        <label>Current Ratio</label>
                        <input type="number" id="ratio-current" placeholder="x.xx" step="0.01" oninput="checkRatio('current')">
                        <div class="result" id="ratio-current-result">Result</div>
                    </div>
                    <div class="calc-card">
                        <label>Acid-Test Ratio</label>
                        <input type="number" id="ratio-acid" placeholder="x.xx" step="0.01" oninput="checkRatio('acid')">
                        <div class="result" id="ratio-acid-result">Result</div>
                    </div>
                </div>

                <button class="check-btn" onclick="checkSection3()">Check All Ratios</button>
                <div class="feedback-box" id="section3-feedback"></div>
            </section>

            <!-- Section 4: System Comparison -->
            <section class="kp-section">
                <h2>‚öñÔ∏è Section 4: Perpetual vs Periodic System Comparison</h2>
                <p>Compare how the same transaction is recorded differently under each system.</p>

                <div class="scenario-box">
                    <h3>üì¶ Transaction: Sold 100 units @ $100/unit, Cost $60/unit</h3>
                    <p style="color: white;">Use the sliders to see how recording differs between systems.</p>
                </div>

                <div style="display: flex; gap: 1rem; flex-wrap: wrap; margin: 1rem 0;">
                    <div class="comparison-side perpetual">
                        <h4 style="color: var(--primary); margin-bottom: 1rem;">üîÑ Perpetual System</h4>
                        <div class="mini-t-account">
                            <div class="mini-t-side left">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Inventory</div>
                                <input type="text" id="perp-inv" placeholder="Dr $6,000" oninput="checkPerp('inv')">
                            </div>
                            <div class="mini-t-side">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">COGS</div>
                                <input type="text" id="perp-cogs" placeholder="Dr $6,000" oninput="checkPerp('cogs')">
                            </div>
                        </div>
                        <p style="font-size: 0.85rem; margin-top: 1rem;">
                            ‚úì Recorded at time of sale<br>
                            ‚úì COGS known immediately<br>
                            ‚úì Continuous tracking
                        </p>
                    </div>
                    <div class="comparison-side periodic">
                        <h4 style="color: var(--warning); margin-bottom: 1rem;">üìã Periodic System</h4>
                        <div class="mini-t-account">
                            <div class="mini-t-side left">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Purchases</div>
                                <input type="text" id="peri-pur" placeholder="Cr $6,000" oninput="checkPeri('pur')">
                            </div>
                            <div class="mini-t-side">
                                <div style="font-weight: 600; margin-bottom: 0.5rem;">Inventory</div>
                                <input type="text" id="peri-inv" placeholder="Not recorded" oninput="checkPeri('inv')">
                            </div>
                        </div>
                        <p style="font-size: 0.85rem; margin-top: 1rem;">
                            ‚úó No entry at time of sale<br>
                            ‚úó COGS calculated at year-end<br>
                            ‚úó Physical count required
                        </p>
                    </div>
                </div>
            </section>

            <!-- Final Quiz -->
            <section class="kp-section">
                <h2>üéØ Final Knowledge Check</h2>
                <p>Test your understanding of merchandising operations:</p>

                <div class="quiz-container" data-success-text="Excellent! You've mastered merchandising operations!" 
                     data-explanation="Remember: Gross Margin = Net Sales - COGS. The acid-test ratio excludes inventory because it may not be easily converted to cash. FIFO gives higher inventory values during inflation, while LIFO gives higher COGS.">
                    
                    <div class="input-group">
                        <p><strong>Question 1:</strong> What is the primary purpose of the "Sales Returns and Allowances" account?</p>
                        <label><input type="radio" name="q1" value="a"> To record discounts given to customers</label>
                        <label><input type="radio" name="q1" value="b" data-correct="true"> To record returns and allowances from credit sales</label>
                        <label><input type="radio" name="q1" value="c"> To record the cost of goods returned</label>
                    </div>

                    <div class="input-group">
                        <p><strong>Question 2:</strong> Under perpetual inventory, the entry to record a sale on account includes:</p>
                        <label><input type="radio" name="q2" value="a"> Debit to Sales Revenue only</label>
                        <label><input type="radio" name="q2" value="b"> Debit to COGS and Credit to Inventory</label>
                        <label><input type="radio" name="q2" value="c" data-correct="true"> Debit to Accounts Receivable, Credit to Sales, Debit to COGS, Credit to Inventory</label>
                    </div>

                    <div class="input-group">
                        <p><strong>Question 3:</strong> Freight costs on purchases are recorded in:</p>
                        <label><input type="radio" name="q3" value="a"> Freight Expense</label>
                        <label><input type="radio" name="q3" value="b" data-correct="true"> Freight-In (or Transportation-In)</label>
                        <label><input type="radio" name="q3" value="c"> Accounts Payable</label>
                    </div>

                    <div class="input-group">
                        <p><strong>Question 4:</strong> If Sales = $200,000, Beginning Inventory = $30,000, Purchases = $120,000, Ending Inventory = $40,000, what is Gross Margin?</p>
                        <label><input type="radio" name="q4" value="a"> $80,000</label>
                        <label><input type="radio" name="q4" value="b" data-correct="true"> $90,000</label>
                        <label><input type="radio" name="q4" value="c"> $110,000</label>
                    </div>

                    <div class="input-group">
                        <p><strong>Question 5:</strong> Why is inventory excluded from the acid-test ratio?</p>
                        <label><input type="radio" name="q5" value="a"> It's not a current asset</label>
                        <label><input type="radio" name="q5" value="b" data-correct="true"> It may be difficult to convert to cash quickly at full value</label>
                        <label><input type="radio" name="q5" value="c"> It's already included in accounts receivable</label>
                    </div>

                    <button class="btn btn-primary quiz-submit">Submit Answers</button>
                    <div class="feedback"></div>
                    <button class="quiz-retry">Try Again</button>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="page-nav">
                <a href="ch05_P7.html" class="btn btn-prev">‚Üê Previous: Periodic Worksheet</a>
                <a href="ch05_PRACTICE.html" class="btn btn-primary">Next: Practice Case ‚Üí</a>
            </nav>
        </article>
    </main>

    <footer style="margin-top: 4rem; padding: 2rem 0; background: var(--primary-dark); color: white; text-align: center;">
        <p>Accounting Essentials | Chapter 5 | Interactive Simulation</p>
    </footer>

    <script src="../../components.js"></script>
    <script>
        // Section 1: Transaction Recording
        const section1Answers = {
            'pur1': { value: 50000, hint: '100 laptops √ó $500 = $50,000' },
            'pur1-acct': { value: 'Inventory', hint: 'Asset account for purchases' },
            'pur2': { value: 500, hint: 'Freight cost to bring goods in' },
            'pur2-acct': { value: 'Freight-In', hint: 'Or Transportation-In' },
            'pur3': { value: 49000, hint: '$50,000 - 2% discount = $49,000' },
            'pur3-acct': { value: 'Cash', hint: 'Cash payment made' },
            'sal1': { value: 40000, hint: '50 laptops √ó $800 = $40,000' },
            'sal1-acct': { value: 'Sales', hint: 'Revenue from sale' },
            'sal2': { value: 25000, hint: '50 units √ó $500 cost = $25,000' },
            'sal2-acct': { value: 'COGS', hint: 'Cost of goods sold' },
            'sal3': { value: 39600, hint: '$40,000 - 1% discount = $39,600' },
            'sal3-acct': { value: 'Cash', hint: 'Cash received' },
            'mix1': { value: 5000, hint: '10 laptops √ó $500 = $5,000' },
            'mix1-acct': { value: 'Accounts Payable', hint: 'Reduce liability' },
            'mix2': { value: 4000, hint: '5 laptops √ó $800 = $4,000' },
            'mix2-acct': { value: 'Sales Returns', hint: 'Contra-revenue account' }
        };

        function checkAnswer(id, expectedValue) {
            const input = document.getElementById(id.replace('-', '-'));
            const feedback = document.getElementById(id + '-feedback');
            
            if (!input || !feedback) return;
            
            const userValue = input.value.trim();
            const expected = expectedValue.toString();
            
            if (userValue === expected) {
                input.classList.remove('incorrect');
                input.classList.add('correct');
                feedback.className = 'feedback-box correct';
                feedback.textContent = '‚úì Correct! ' + (section1Answers[id]?.hint || '');
                updateProgress();
            } else if (userValue !== '') {
                input.classList.remove('correct');
                input.classList.add('incorrect');
                feedback.className = 'feedback-box incorrect';
                feedback.textContent = '‚úó Incorrect. ' + (section1Answers[id]?.hint || 'Try again');
            } else {
                input.classList.remove('correct', 'incorrect');
                feedback.className = 'feedback-box';
            }
        }

        function checkSection1() {
            let correct = 0;
            let total = 0;
            
            for (let key in section1Answers) {
                const input = document.getElementById(key);
                if (input && input.value.trim() !== '') {
                    total++;
                    if (input.classList.contains('correct')) correct++;
                }
            }
            
            const feedback = document.getElementById('section1-feedback');
            if (correct === total && total > 0) {
                feedback.className = 'feedback-box correct';
                feedback.innerHTML = 'üéâ Excellent! You got ' + correct + ' out of ' + total + ' correct!';
            } else {
                feedback.className = 'feedback-box incorrect';
                feedback.innerHTML = 'üìù You got ' + correct + ' out of ' + total + ' correct. Review your answers and try again.';
            }
        }

        // Section 2: Inventory Calculations
        function checkFIFO(type) {
            const ei = document.getElementById('fifo-ei');
            const cogs = document.getElementById('fifo-cogs');
            
            if (type === 'ei') {
                if (ei.value === '18200') {
                    ei.classList.add('correct');
                    ei.classList.remove('incorrect');
                    document.getElementById('fifo-ei-result').textContent = '‚úì $18,200';
                    document.getElementById('fifo-ei-result').style.background = 'var(--success)';
                } else {
                    ei.classList.remove('correct');
                    ei.classList.add('incorrect');
                    document.getElementById('fifo-ei-result').textContent = '‚úó Try again';
                    document.getElementById('fifo-ei-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'cogs') {
                if (cogs.value === '23900') {
                    cogs.classList.add('correct');
                    cogs.classList.remove('incorrect');
                    document.getElementById('fifo-cogs-result').textContent = '‚úì $23,900';
                    document.getElementById('fifo-cogs-result').style.background = 'var(--success)';
                } else {
                    cogs.classList.remove('correct');
                    cogs.classList.add('incorrect');
                    document.getElementById('fifo-cogs-result').textContent = '‚úó Try again';
                    document.getElementById('fifo-cogs-result').style.background = 'var(--error)';
                }
            }
        }

        function checkLIFO(type) {
            const ei = document.getElementById('lifo-ei');
            const cogs = document.getElementById('lifo-cogs');
            
            if (type === 'ei') {
                if (ei.value === '15700') {
                    ei.classList.add('correct');
                    ei.classList.remove('incorrect');
                    document.getElementById('lifo-ei-result').textContent = '‚úì $15,700';
                    document.getElementById('lifo-ei-result').style.background = 'var(--success)';
                } else {
                    ei.classList.remove('correct');
                    ei.classList.add('incorrect');
                    document.getElementById('lifo-ei-result').textContent = '‚úó Try again';
                    document.getElementById('lifo-ei-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'cogs') {
                if (cogs.value === '26400') {
                    cogs.classList.add('correct');
                    cogs.classList.remove('incorrect');
                    document.getElementById('lifo-cogs-result').textContent = '‚úì $26,400';
                    document.getElementById('lifo-cogs-result').style.background = 'var(--success)';
                } else {
                    cogs.classList.remove('correct');
                    cogs.classList.add('incorrect');
                    document.getElementById('lifo-cogs-result').textContent = '‚úó Try again';
                    document.getElementById('lifo-cogs-result').style.background = 'var(--error)';
                }
            }
        }

        function checkWA(type) {
            const unit = document.getElementById('wa-unit');
            const ei = document.getElementById('wa-ei');
            const cogs = document.getElementById('wa-cogs');
            
            if (type === 'unit') {
                if (unit.value === '495.29' || parseFloat(unit.value) > 495 && parseFloat(unit.value) < 496) {
                    unit.classList.add('correct');
                    unit.classList.remove('incorrect');
                    document.getElementById('wa-unit-result').textContent = '‚úì $495.29';
                    document.getElementById('wa-unit-result').style.background = 'var(--success)';
                } else {
                    unit.classList.remove('correct');
                    unit.classList.add('incorrect');
                    document.getElementById('wa-unit-result').textContent = '‚úó $42,100 √∑ 85';
                    document.getElementById('wa-unit-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'ei') {
                if (ei.value === '17335') {
                    ei.classList.add('correct');
                    ei.classList.remove('incorrect');
                    document.getElementById('wa-ei-result').textContent = '‚úì $17,335';
                    document.getElementById('wa-ei-result').style.background = 'var(--success)';
                } else {
                    ei.classList.remove('correct');
                    ei.classList.add('incorrect');
                    document.getElementById('wa-ei-result').textContent = '‚úó Try again';
                    document.getElementById('wa-ei-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'cogs') {
                if (cogs.value === '24765') {
                    cogs.classList.add('correct');
                    cogs.classList.remove('incorrect');
                    document.getElementById('wa-cogs-result').textContent = '‚úì $24,765';
                    document.getElementById('wa-cogs-result').style.background = 'var(--success)';
                } else {
                    cogs.classList.remove('correct');
                    cogs.classList.add('incorrect');
                    document.getElementById('wa-cogs-result').textContent = '‚úó Try again';
                    document.getElementById('wa-cogs-result').style.background = 'var(--error)';
                }
            }
        }

        // Section 3: Ratio Analysis
        function checkRatio(type) {
            const gm = document.getElementById('ratio-gm');
            const gmAmt = document.getElementById('ratio-gm-amt');
            const current = document.getElementById('ratio-current');
            const acid = document.getElementById('ratio-acid');
            
            if (type === 'gm') {
                if (gm.value === '40') {
                    gm.classList.add('correct');
                    gm.classList.remove('incorrect');
                    document.getElementById('ratio-gm-result').textContent = '‚úì 40%';
                    document.getElementById('ratio-gm-result').style.background = 'var(--success)';
                } else {
                    gm.classList.remove('correct');
                    gm.classList.add('incorrect');
                    document.getElementById('ratio-gm-result').textContent = '‚úó (112,000 √∑ 280,000)';
                    document.getElementById('ratio-gm-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'gm_amt') {
                if (gmAmt.value === '112000') {
                    gmAmt.classList.add('correct');
                    gmAmt.classList.remove('incorrect');
                    document.getElementById('ratio-gm-amt-result').textContent = '‚úì $112,000';
                    document.getElementById('ratio-gm-amt-result').style.background = 'var(--success)';
                } else {
                    gmAmt.classList.remove('correct');
                    gmAmt.classList.add('incorrect');
                    document.getElementById('ratio-gm-amt-result').textContent = '‚úó $280,000 - $168,000';
                    document.getElementById('ratio-gm-amt-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'current') {
                if (current.value === '2.18' || parseFloat(current.value) === 2.18) {
                    current.classList.add('correct');
                    current.classList.remove('incorrect');
                    document.getElementById('ratio-current-result').textContent = '‚úì 2.18';
                    document.getElementById('ratio-current-result').style.background = 'var(--success)';
                } else {
                    current.classList.remove('correct');
                    current.classList.add('incorrect');
                    document.getElementById('ratio-current-result').textContent = '‚úó (82,000 √∑ 37,640)';
                    document.getElementById('ratio-current-result').style.background = 'var(--error)';
                }
            }
            
            if (type === 'acid') {
                if (acid.value === '1.60' || parseFloat(acid.value) === 1.60) {
                    acid.classList.add('correct');
                    acid.classList.remove('incorrect');
                    document.getElementById('ratio-acid-result').textContent = '‚úì 1.60';
                    document.getElementById('ratio-acid-result').style.background = 'var(--success)';
                } else {
                    acid.classList.remove('correct');
                    acid.classList.add('incorrect');
                    document.getElementById('ratio-acid-result').textContent = '‚úó (60,000 √∑ 37,640)';
                    document.getElementById('ratio-acid-result').style.background = 'var(--error)';
                }
            }
        }

        function checkSection3() {
            let correct = 0;
            let total = 4;
            
            const inputs = ['ratio-gm', 'ratio-gm-amt', 'ratio-current', 'ratio-acid'];
            const answers = ['40', '112000', '2.18', '1.60'];
            
            inputs.forEach((id, index) => {
                const input = document.getElementById(id);
                if (input && input.value === answers[index]) correct++;
            });
            
            const feedback = document.getElementById('section3-feedback');
            if (correct === total) {
                feedback.className = 'feedback-box correct';
                feedback.innerHTML = 'üéâ Perfect! All ratios calculated correctly!';
            } else {
                feedback.className = 'feedback-box incorrect';
                feedback.innerHTML = 'üìä You got ' + correct + ' out of ' + total + ' correct. Review the formulas.';
            }
        }

        // Section 4: System Comparison
        function checkPerp(type) {
            const inv = document.getElementById('perp-inv');
            const cogs = document.getElementById('perp-cogs');
            
            if (type === 'inv' && inv.value.toLowerCase().includes('6000')) {
                inv.classList.add('correct');
                inv.classList.remove('incorrect');
            } else if (type === 'inv') {
                inv.classList.remove('correct');
            }
            
            if (type === 'cogs' && cogs.value.toLowerCase().includes('6000')) {
                cogs.classList.add('correct');
                cogs.classList.remove('incorrect');
            } else if (type === 'cogs') {
                cogs.classList.remove('correct');
            }
        }

        function checkPeri(type) {
            const pur = document.getElementById('peri-pur');
            const inv = document.getElementById('peri-inv');
            
            if (type === 'pur' && pur.value.toLowerCase().includes('6000')) {
                pur.classList.add('correct');
                pur.classList.remove('incorrect');
            } else if (type === 'pur') {
                pur.classList.remove('correct');
            }
            
            if (type === 'inv' && inv.value.toLowerCase().includes('not') || (inv.value === '')) {
                inv.classList.add('correct');
                inv.classList.remove('incorrect');
            }
        }

        // Tab Navigation
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        // Progress Tracking
        function updateProgress() {
            let completed = 0;
            let total = Object.keys(section1Answers).length;
            
            for (let key in section1Answers) {
                const input = document.getElementById(key);
                if (input && input.classList.contains('correct')) {
                    completed++;
                }
            }
            
            const percentage = Math.round((completed / total) * 100);
            document.getElementById('progress-fill').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = percentage + '%';
        }

        // Quiz functionality
        document.querySelectorAll('.quiz-submit').forEach(btn => {
            btn.addEventListener('click', function() {
                const container = this.closest('.quiz-container');
                const feedback = container.querySelector('.feedback');
                const retryBtn = container.querySelector('.quiz-retry');
                const successText = container.dataset.successText;
                const explanation = container.dataset.explanation;
                
                let correct = 0;
                let total = 0;
                
                container.querySelectorAll('.input-group').forEach(group => {
                    const selected = group.querySelector('input:checked');
                    const options = group.querySelectorAll('input[type="radio"]');
                    total++;
                    
                    options.forEach(opt => {
                        opt.parentElement.style.background = '';
                        opt.parentElement.style.color = '';
                    });
                    
                    if (selected) {
                        if (selected.dataset.correct === 'true') {
                            correct++;
                            selected.parentElement.style.background = 'var(--success-light)';
                            selected.parentElement.style.color = 'var(--success)';
                        } else {
                            selected.parentElement.style.background = 'var(--error-light)';
                            selected.parentElement.style.color = 'var(--error)';
                        }
                    }
                    
                    // Show correct answer
                    options.forEach(opt => {
                        if (opt.dataset.correct === 'true') {
                            opt.parentElement.style.background = 'var(--success-light)';
                        }
                    });
                });
                
                if (correct === total) {
                    feedback.className = 'feedback correct';
                    feedback.innerHTML = 'üéâ ' + successText;
                } else {
                    feedback.className = 'feedback incorrect';
                    feedback.innerHTML = 'üìù You got ' + correct + ' out of ' + total + ' correct.<br><br><strong>Explanation:</strong> ' + explanation;
                }
                
                retryBtn.classList.add('show');
            });
        });

        document.querySelectorAll('.quiz-retry').forEach(btn => {
            btn.addEventListener('click', function() {
                const container = this.closest('.quiz-container');
                container.querySelectorAll('.input-group').forEach(group => {
                    group.querySelectorAll('label').forEach(label => {
                        label.style.background = '';
                        label.style.color = '';
                    });
                    group.querySelectorAll('input[type="radio"]').forEach(radio => radio.checked = false);
                });
                container.querySelector('.feedback').className = 'feedback';
                this.classList.remove('show');
            });
        });
    </script>
</body>

</html>
